<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>phpGearBox</title>
		<link rel="stylesheet" href="../../../../../assets/style.css">
	</head>
	<body>

		<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="../../../../../index.html">phpGearBox</a>
		</div>
		<div class="navbar-collapse collapse">
			<ul class="nav navbar-nav navbar-right">
									<li><a href="https://github.com/phpgearbox" target="_blank">GitHub</a></li>
									<li><a href="https://www.linkedin.com/in/bradjonescomputing" target="_blank">Brad Jones</a></li>
							</ul>
		</div>
	</div>
</div>
		<div class="container-fluid">
			<div class="row">

				<div class="col-sm-3 col-md-2 sidebar">
	<form class="form-inline search" role="form">
		<div class="form-group">
			<label class="sr-only" for="search-query">Search Query</label>
			<input type="text" name="q" class="form-control" id="search-query" placeholder="Search...">
		</div>
		<button type="submit" class="btn btn-default">Go</button>
	</form>
	<div class="fancytree"></div>
</div>
				
	<div class="col-md-6 col-md-offset-3 main">
		
		<h1 class="page-header">
			arrays/src/Arrays/Conversions/From/Table.php
			<a class="view-source" title="View Source" data-toggle="modal" data-target="#sourceModal">
				<i class="fa fa-file-code-o"></i>
			</a>
		</h1>
		
					
			<div id="block_0" class="panel panel-default panel-success">
									<div class="panel-heading">
						<h3 class="panel-title">
							Property: table_location
							<a
								class="view-source"
								title="Take me to the code..."
								data-start-line="20"
								data-end-line="25"
							>
								<i class="fa fa-file-code-o"></i>
							</a>
						</h3>
					</div>
								<div class="panel-body">
											<pre><code class="php">protected $table_location = &#039;table&#039;;</code></pre>
										
<p>This is either a CSS or Xpath Query to give the location of the
HTML Table you would like to convert toi an array.</p>
				</div>
			</div>

					
			<div id="block_1" class="panel panel-default panel-success">
									<div class="panel-heading">
						<h3 class="panel-title">
							Property: table_headings
							<a
								class="view-source"
								title="Take me to the code..."
								data-start-line="28"
								data-end-line="33"
							>
								<i class="fa fa-file-code-o"></i>
							</a>
						</h3>
					</div>
								<div class="panel-body">
											<pre><code class="php">protected $table_headings = true;</code></pre>
										
<p>Do you want to treat the first row of the table as the headings
for each column.</p>
				</div>
			</div>

					
			<div id="block_2" class="panel panel-default panel-success">
									<div class="panel-heading">
						<h3 class="panel-title">
							Property: query_type
							<a
								class="view-source"
								title="Take me to the code..."
								data-start-line="36"
								data-end-line="40"
							>
								<i class="fa fa-file-code-o"></i>
							</a>
						</h3>
					</div>
								<div class="panel-body">
											<pre><code class="php">protected $query_type = &#039;css&#039;;</code></pre>
										
<p>This will take either css or xpath</p>
				</div>
			</div>

					
			<div id="block_3" class="panel panel-default panel-info">
									<div class="panel-heading">
						<h3 class="panel-title">
							Method: Convert
							<a
								class="view-source"
								title="Take me to the code..."
								data-start-line="43"
								data-end-line="55"
							>
								<i class="fa fa-file-code-o"></i>
							</a>
						</h3>
					</div>
								<div class="panel-body">
											<pre><code class="php">public function Convert($data)</code></pre>
										
<p>This will do the actual converting</p>
<h2>Parameters:</h2>
<p>$data - The HTML string that contains the table to convert to an array.</p>
<h2>Returns:</h2>
<p>array</p>
				</div>
			</div>

		
	</div>

	<div class="col-md-2 toc">
		<div class="list-group">
												<a class="list-group-item active" data-block-target="#block_0">
						Property: table_location
					</a>
																<a class="list-group-item" data-block-target="#block_1">
						Property: table_headings
					</a>
																<a class="list-group-item" data-block-target="#block_2">
						Property: query_type
					</a>
																<a class="list-group-item" data-block-target="#block_3">
						Method: Convert
					</a>
									</div>
	</div>


			</div>
		</div>

		
	<div class="modal fade" id="sourceModal" tabindex="-1" role="dialog" aria-labelledby="sourceModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">&times;</span>
						<span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title" id="sourceModalLabel">
						arrays/src/Arrays/Conversions/From/Table.php
					</h4>
				</div>
				<div class="modal-body">
					<pre><code class="php">&lt;?php namespace Gears\Arrays\Conversions\From;
////////////////////////////////////////////////////////////////////////////////
// __________ __             ________                   __________              
// \______   \  |__ ______  /  _____/  ____ _____ ______\______   \ _______  ___
//  |     ___/  |  \\____ \/   \  ____/ __ \\__  \\_  __ \    |  _//  _ \  \/  /
//  |    |   |   Y  \  |_&gt; &gt;    \_\  \  ___/ / __ \|  | \/    |   (  &lt;_&gt; &gt;    &lt; 
//  |____|   |___|  /   __/ \______  /\___  &gt;____  /__|  |______  /\____/__/\_ \
//                \/|__|           \/     \/     \/             \/            \/
// -----------------------------------------------------------------------------
//          Designed and Developed by Brad Jones &lt;brad @=&quot;bjc.id.au&quot; /&gt;         
// -----------------------------------------------------------------------------
////////////////////////////////////////////////////////////////////////////////

use \Zend\Dom\Query;
use \Gears\Arrays\Conversions\Template;
use \Gears\Arrays\Conversions\From\Dom;

class Table extends Template
{
	/**
	 * Property: table_location
	 * =========================================================================
	 * This is either a CSS or Xpath Query to give the location of the
	 * HTML Table you would like to convert toi an array.
	 */
	protected $table_location = &#039;table&#039;;
	
	/**
	 * Property: table_headings
	 * =========================================================================
	 * Do you want to treat the first row of the table as the headings
	 * for each column.
	 */
	protected $table_headings = true;
	
	/**
	 * Property: query_type
	 * =========================================================================
	 * This will take either css or xpath
	 */
	protected $query_type = &#039;css&#039;;
	
	/**
	 * Method: Convert
	 * =========================================================================
	 * This will do the actual converting
	 * 
	 * Parameters:
	 * -------------------------------------------------------------------------
	 * $data - The HTML string that contains the table to convert to an array.
	 * 
	 * Returns:
	 * -------------------------------------------------------------------------
	 * array
	 */
	public function Convert($data)
	{
		// First of all lets do some simple string manipulation
		$data = str_replace([&#039;&lt;thead&gt;&#039;, &#039;&lt;/thead&gt;&#039;, &#039;&lt;tbody&gt;&#039;, &#039;&lt;/tbody&gt;&#039;, &#039;&lt;tfoot&gt;&#039;, &#039;&lt;/tfoot&gt;&#039;], &#039;&#039;, $data);
		$data = str_replace([&#039;&lt;th&#039;, &#039;&lt;/th&#039;], [&#039;&lt;td&#039;, &#039;&lt;/td&#039;], $data);
		
		// Create a new dom object
		$dom = new Query($data);
		
		// Find the table within the document
		switch ($this-&gt;query_type)
		{
			case &#039;css&#039;: $table = $dom-&gt;execute($this-&gt;table_location); break;
			case &#039;xpath&#039;: $table = $dom-&gt;queryXpath($this-&gt;table_location); break;
		}
		
		// Convert the table node into an array
		$array = new Dom();
		$dom_array = $array-&gt;Convert($table-&gt;current());
		
		// Then tidy up that array
		$table_array = array();
		
		// We wish to use the first row of the table as the keys for the array
		if ($this-&gt;table_headings)
		{
			// Create a simple counter
			$x = -1;
			
			// Loop through each row
			foreach ($dom_array as $tr_num =&gt; $tr)
			{
				// Ignoring anything else
				if (strpos($tr_num, &#039;tr_&#039;) !== false)
				{
					// Ignore the first row as that only contains the headings
					if ($x == -1) { $x++; continue; }
					
					// Loop through each of the TD Elements
					foreach ($tr as $td_num =&gt; $td)
					{
						// Ignoring anything else
						if (strpos($td_num, &#039;td_&#039;) !== false)
						{
							// Work out what the key name is
							$key = $dom_array[&#039;tr_0&#039;][$td_num][&#039;#text_0&#039;];
							
							// Add the cell to the array
							$table_array[$x][$key] = $td[&#039;#text_0&#039;];
						}
					}
					
					// Increase the row count
					$x++;
				}
			}
		}
		else
		{
			// Create a simple counter
			$x = 0;
			
			// Loop through each row
			foreach ($dom_array as $tr_num =&gt; $tr)
			{
				// Ignoring anything else
				if (strpos($tr_num, &#039;tr_&#039;) !== false)
				{
					// Loop through each of the TD Elements
					foreach ($tr as $td_num =&gt; $td)
					{
						// Ignoring anything else
						if (strpos($td_num, &#039;td_&#039;) !== false)
						{
							// Add the cell to the array
							$table_array[$x][] = $td[&#039;#text_0&#039;];
						}
					}
					
					// Increase the row count
					$x++;
				}
			}
		}
		
		return $table_array;
	}
}
</code></pre>
				</div>
			</div>
		</div>
	</div>


		<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">&times;</span>
					<span class="sr-only">Close</span>
				</button>
				<h3 class="modal-title" id="searchModalLabel">
					Search Results for: ...
				</h3>
			</div>
			<div class="modal-body">
				...
			</div>
		</div>
	</div>
</div>		
		<script>
			var relative_urls = {"di\/src\/Container.php":"..\/..\/..\/..\/..\/di\/src\/Container.html","di\/src\/ServiceProviderInterface.php":"..\/..\/..\/..\/..\/di\/src\/ServiceProviderInterface.html","di\/README.md":"..\/..\/..\/..\/..\/di\/README.html","session\/src\/Session.php":"..\/..\/..\/..\/..\/session\/src\/Session.html","session\/README.md":"..\/..\/..\/..\/..\/session\/README.html","string\/src\/Functions.php":"..\/..\/..\/..\/..\/string\/src\/Functions.html","string\/src\/String.php":"..\/..\/..\/..\/..\/string\/src\/String.html","string\/README.md":"..\/..\/..\/..\/..\/string\/README.html","arrays\/src\/Functions.php":"..\/..\/..\/..\/src\/Functions.html","arrays\/src\/Arrays\/Conversions\/From\/Table.php":"#","arrays\/src\/Arrays\/Conversions\/From\/Json.php":"Json.html","arrays\/src\/Arrays\/Conversions\/From\/Xml.php":"Xml.html","arrays\/src\/Arrays\/Conversions\/From\/Csv.php":"Csv.html","arrays\/src\/Arrays\/Conversions\/From\/Lines.php":"Lines.html","arrays\/src\/Arrays\/Conversions\/From\/Dom.php":"Dom.html","arrays\/src\/Arrays\/Conversions\/To\/Table.php":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Table.html","arrays\/src\/Arrays\/Conversions\/To\/Json.php":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Json.html","arrays\/src\/Arrays\/Conversions\/To\/Xml.php":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Xml.html","arrays\/src\/Arrays\/Conversions\/To\/Csv.php":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Csv.html","arrays\/src\/Arrays\/Conversions\/Template.php":"..\/..\/..\/..\/src\/Arrays\/Conversions\/Template.html","arrays\/src\/Arrays\/Iterator.php":"..\/..\/..\/..\/src\/Arrays\/Iterator.html","arrays\/src\/Arrays\/Fluent.php":"..\/..\/..\/..\/src\/Arrays\/Fluent.html","arrays\/src\/Arrays.php":"..\/..\/..\/..\/src\/Arrays.html","arrays\/README.md":"..\/..\/..\/..\/README.html","doc\/src\/Console\/Application.php":"..\/..\/..\/..\/..\/doc\/src\/Console\/Application.html","doc\/src\/Console\/Commands\/Generate.php":"..\/..\/..\/..\/..\/doc\/src\/Console\/Commands\/Generate.html","doc\/src\/Generator.php":"..\/..\/..\/..\/..\/doc\/src\/Generator.html","doc\/src\/Views\/assets\/css\/main.css":"..\/..\/..\/..\/..\/doc\/src\/Views\/assets\/css\/main.html","doc\/src\/Views\/assets\/js\/main.js":"..\/..\/..\/..\/..\/doc\/src\/Views\/assets\/js\/main.html","doc\/README.md":"..\/..\/..\/..\/..\/doc\/README.html","router\/src\/Router.php":"..\/..\/..\/..\/..\/router\/src\/Router.html","router\/README.md":"..\/..\/..\/..\/..\/router\/README.html","view\/src\/View.php":"..\/..\/..\/..\/..\/view\/src\/View.html","view\/README.md":"..\/..\/..\/..\/..\/view\/README.html","1st Gear.md":"..\/..\/..\/..\/..\/1st Gear.html"};
			var fancy_tree = [{"title":"di","folder":true,"expanded":false,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"Container.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/di\/src\/Container.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"ServiceProviderInterface.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/di\/src\/ServiceProviderInterface.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/di\/README.html","icon":null}]},{"title":"session","folder":true,"expanded":false,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"Session.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/session\/src\/Session.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/session\/README.html","icon":null}]},{"title":"string","folder":true,"expanded":false,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"Functions.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/string\/src\/Functions.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"String.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/string\/src\/String.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/string\/README.html","icon":null}]},{"title":"arrays","folder":true,"expanded":true,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"Arrays","folder":true,"expanded":true,"children":[{"title":"Conversions","folder":true,"expanded":true,"children":[{"title":"From","folder":true,"expanded":true,"children":[{"title":"Table.php","active":true,"focus":true,"href":"#","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Json.php","active":false,"focus":false,"href":"Json.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Xml.php","active":false,"focus":false,"href":"Xml.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Csv.php","active":false,"focus":false,"href":"Csv.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Lines.php","active":false,"focus":false,"href":"Lines.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Dom.php","active":false,"focus":false,"href":"Dom.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"To","folder":true,"expanded":false,"children":[{"title":"Table.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Table.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Json.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Json.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Xml.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Xml.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Csv.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Conversions\/To\/Csv.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"Template.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Conversions\/Template.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"Iterator.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Iterator.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Fluent.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays\/Fluent.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"Functions.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Functions.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"},{"title":"Arrays.php","active":false,"focus":false,"href":"..\/..\/..\/..\/src\/Arrays.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/README.html","icon":null}]},{"title":"doc","folder":true,"expanded":false,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"Console","folder":true,"expanded":false,"children":[{"title":"Commands","folder":true,"expanded":false,"children":[{"title":"Generate.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/doc\/src\/Console\/Commands\/Generate.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"Application.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/doc\/src\/Console\/Application.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"Views","folder":true,"expanded":false,"children":[{"title":"assets","folder":true,"expanded":false,"children":[{"title":"css","folder":true,"expanded":false,"children":[{"title":"main.css","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/doc\/src\/Views\/assets\/css\/main.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/css.png"}]},{"title":"js","folder":true,"expanded":false,"children":[{"title":"main.js","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/doc\/src\/Views\/assets\/js\/main.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/script_code.png"}]}]}]},{"title":"Generator.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/doc\/src\/Generator.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/doc\/README.html","icon":null}]},{"title":"router","folder":true,"expanded":false,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"Router.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/router\/src\/Router.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/router\/README.html","icon":null}]},{"title":"view","folder":true,"expanded":false,"children":[{"title":"src","folder":true,"expanded":true,"children":[{"title":"View.php","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/view\/src\/View.html","icon":"..\/..\/..\/..\/..\/assets\/img\/silk\/page_white_php.png"}]},{"title":"README.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/view\/README.html","icon":null}]},{"title":"1st Gear.md","active":false,"focus":false,"href":"..\/..\/..\/..\/..\/1st Gear.html","icon":null}];
		</script>
		<script src="../../../../../assets/script.js"></script>
	</body>
</html>